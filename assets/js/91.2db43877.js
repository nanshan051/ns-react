(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{537:function(t,s,a){"use strict";a.r(s);var e=a(2),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-redux-工作流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-redux-工作流程"}},[t._v("#")]),t._v(" 1. redux 工作流程")]),t._v(" "),s("img",{staticClass:"zoomable",attrs:{src:t.$withBase("/images/screenshot/react/7/2/1.png"),alt:"foo"}}),t._v(" "),s("h2",{attrs:{id:"_2-action"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-action"}},[t._v("#")]),t._v(" 2. action")]),t._v(" "),s("ol",[s("li",[t._v("描述 "),s("strong",[t._v("『动作』")]),t._v(" 的对象。")]),t._v(" "),s("li",[t._v("包含两个属性：\n"),s("ul",[s("li",[s("code",[t._v("type")]),t._v("：标识属性，值为字符串，唯一，必要属性。")]),t._v(" "),s("li",[s("code",[t._v("data")]),t._v("：数据属性，值为任意类型，可选属性。")])])]),t._v(" "),s("li",[t._v("例子："),s("code",[t._v("{type:'ADD_STUDENT', data: {name: 'Tom', age: 18}}")]),t._v(" 。")])]),t._v(" "),s("h2",{attrs:{id:"_3-reducer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-reducer"}},[t._v("#")]),t._v(" 3. reducer")]),t._v(" "),s("ol",[s("li",[t._v("用于 "),s("strong",[t._v("初始化状态、加工状态。")])]),t._v(" "),s("li",[t._v("加工时，根据旧的 state 和 action 生成新的 state。")])]),t._v(" "),s("h2",{attrs:{id:"_4-store"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-store"}},[t._v("#")]),t._v(" 4. store")]),t._v(" "),s("ol",[s("li",[t._v("将 state、action、reducer "),s("strong",[t._v("联系在一起")]),t._v(" 的对象。")]),t._v(" "),s("li",[t._v("如何得到此对象？"),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createStore "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redux"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" reducer "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./reducer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])]),t._v(" "),s("li",[t._v("此对象的功能？"),s("br"),t._v("\n(1) "),s("code",[t._v("getState()")]),t._v("：获取 state。"),s("br"),t._v("\n(2) "),s("code",[t._v("dispatch(action)")]),t._v("：分发 action，触发 reducer 调用，产生新的 state。"),s("br"),t._v("\n(3) "),s("code",[t._v("subscribe(listener)")]),t._v("：注册监听器，当 state 更新时，自动调用此监听器函数。")])])])}),[],!1,null,null,null);s.default=r.exports}}]);