(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{530:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-前置准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-前置准备"}},[t._v("#")]),t._v(" 1. 前置准备")]),t._v(" "),s("p",[t._v("主页面 index.html：")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token doctype"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),s("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("en"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("charset")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("icon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("%PUBLIC_URL%/favicon.ico"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./css/bootstrap.css"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width, initial-scale=1.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("react"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("p",[t._v("将路由 "),s("code",[t._v("/about")]),t._v(" 改为 "),s("code",[t._v("/page/about")]),t._v("。")]),t._v(" "),s("p",[t._v("App.jsx：")]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyNavLink")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/page/about"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("About")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyNavLink")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 路由链接")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Route")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/page/about"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("About"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 路由组件")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h2",{attrs:{id:"_2-样式丢失问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-样式丢失问题"}},[t._v("#")]),t._v(" 2. 样式丢失问题")]),t._v(" "),s("h3",{attrs:{id:"_2-1-加载页面-正常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-加载页面-正常"}},[t._v("#")]),t._v(" 2.1. 加载页面（正常）")]),t._v(" "),s("p",[t._v("首次访问 http://localhost:3000 时，样式生效：")]),t._v(" "),s("img",{staticClass:"zoomable",attrs:{src:t.$withBase("/images/screenshot/react/5/5/1.gif"),alt:"foo"}}),t._v(" "),s("p",[t._v("过程分析：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("页面请求 "),s("code",[t._v("http://localhost:3000")]),t._v(" 时，也就是访问项目的根目录 "),s("code",[t._v("/public")]),t._v(" ，默认返回 "),s("code",[t._v("index.html")]),t._v(" 文件。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[s("strong",[t._v("此时，index.html 的相对路径是 "),s("code",[t._v("http://localhost:3000")]),t._v(" 。")])])])]),t._v(" "),s("li",[s("p",[t._v("由于 index.html 中采用 "),s("strong",[s("font",{attrs:{color:"red"}},[t._v("相对路径")])],1),t._v(" "),s("code",[t._v("./css/bootstrap.css")]),t._v(" 引入了样式表，所以最终请求路径为 "),s("code",[t._v("http://localhost:3000/css/bootstrap.css")]),t._v("，也就是访问项目的 "),s("code",[t._v("/public/css/css/bootstrap.css")]),t._v(" 目录，能找到对应的文件，所以正常返回该样式表。")])]),t._v(" "),s("li",[s("p",[t._v("而 index.html 中采用 "),s("strong",[t._v("绝对路径")]),t._v(" "),s("code",[t._v("%PUBLIC_URL%/favicon.ico")]),t._v(" 引入了图标，"),s("strong",[s("code",[t._v("%PUBLIC_URL%")]),t._v(" 指的就是项目根目录 "),s("code",[t._v("/public")]),t._v(" 。")]),t._v(" 所以最终请求路径为 "),s("code",[t._v("http://localhost:3000/favicon.ico")]),t._v(" ，也就是访问项目的 "),s("code",[t._v("/public/favicon.ico")]),t._v(" 目录，能找到对应的文件，所以正常返回该图标。")])])]),t._v(" "),s("h3",{attrs:{id:"_2-2-刷新-page-about-页面-异常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-刷新-page-about-页面-异常"}},[t._v("#")]),t._v(" 2.2. 刷新/page/about 页面（异常）")]),t._v(" "),s("p",[t._v("刷新 http://localhost:3000/page/about 页面后，样式丢失：")]),t._v(" "),s("img",{staticClass:"zoomable",attrs:{src:t.$withBase("/images/screenshot/react/5/5/2.gif"),alt:"foo"}}),t._v(" "),s("p",[t._v("过程分析：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("点击路由链接 About 时，路由器会修改路径，但浏览器 "),s("strong",[t._v("不会发送请求。")])])]),t._v(" "),s("li",[s("p",[t._v("刷新页面，页面请求 "),s("code",[t._v("http://localhost:3000/page/about")]),t._v(" ，也就是访问项目的根目录 "),s("code",[t._v("/public/page/about")]),t._v(" ，"),s("strong",[s("font",{attrs:{color:"red"}},[t._v("查不到对应文件，React 会做兜底，返回 "),s("code",[t._v("index.html")]),t._v(" 文件。")])],1)]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"title"}),s("p",[s("strong",[t._v("此时，index.html 是“作为” "),s("code",[t._v("/public/page")]),t._v(" 目录下的 about 文件返回的，所以 index.html 的相对路径是 "),s("code",[t._v("http://localhost:3000/page")]),t._v(" 。")])])])]),t._v(" "),s("li",[s("p",[t._v("由于 index.html 中采用 "),s("strong",[s("font",{attrs:{color:"red"}},[t._v("相对路径")])],1),t._v(" "),s("code",[t._v("./css/bootstrap.css")]),t._v(" 引入了样式表，所以最终请求路径为 "),s("code",[t._v("http://localhost:3000/page/css/bootstrap.css")]),t._v("，也就是访问项目的 "),s("code",[t._v("/public/page/css/bootstrap.css")]),t._v(" 目录，找不到对应的文件，React 会做兜底，返回 "),s("code",[t._v("index.html")]),t._v(" 文件。没有样式表，即 "),s("strong",[t._v("样式丢失。")])])]),t._v(" "),s("li",[s("p",[t._v("图标引入原理同本小节 2.1。")])])]),t._v(" "),s("h2",{attrs:{id:"_3-解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-解决方案"}},[t._v("#")]),t._v(" 3. 解决方案")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"},[t._v("解决样式丢失问题")]),s("ul",[s("li",[t._v("方法一：通过 link 标签引入文件时，路径不写 "),s("code",[t._v("./")]),t._v("，而是写 "),s("code",[t._v("/")]),t._v(" 。"),s("strong",[t._v("（绝对路径）")])]),t._v(" "),s("li",[t._v("方法二：通过 link 标签引入文件时，路径不写 "),s("code",[t._v("./")]),t._v("，而是写 "),s("code",[t._v("%PUBLIC_URL%/")]),t._v(" 。"),s("strong",[t._v("（绝对路径）")])]),t._v(" "),s("li",[t._v("方法三：使用哈希路由器 "),s("code",[t._v("HashRouter")]),t._v(" 替代浏览器路由器 "),s("code",[t._v("BrowserRouter")]),t._v(" 。"),s("strong",[t._v("（哈希路由）")])])])]),s("p",[t._v("前两种方法都是采用绝对路径，即访问的是项目的 "),s("code",[t._v("/public")]),t._v(" 目录，所以能找到对应的样式文件。")]),t._v(" "),s("p",[t._v("这里主要分析一下第三种方法："),s("strong",[t._v("哈希路由")]),t._v(" 。")]),t._v(" "),s("p",[t._v("index.js：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ReactDOM "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-dom/client"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" HashRouter "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router-dom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" App "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./App"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" root "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createRoot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nroot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 哈希路由")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("HashRouter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("HashRouter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h3",{attrs:{id:"_3-1-加载页面-正常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-加载页面-正常"}},[t._v("#")]),t._v(" 3.1. 加载页面（正常）")]),t._v(" "),s("p",[t._v("首次访问 http://localhost:3000 时，样式生效：")]),t._v(" "),s("img",{staticClass:"zoomable",attrs:{src:t.$withBase("/images/screenshot/react/5/5/3.gif"),alt:"foo"}}),t._v(" "),s("p",[t._v("过程分析：原理同本小节 2.1")]),t._v(" "),s("h3",{attrs:{id:"_3-2-刷新-page-about-页面-正常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-刷新-page-about-页面-正常"}},[t._v("#")]),t._v(" 3.2. 刷新/#/page/about 页面（正常）")]),t._v(" "),s("p",[t._v("刷新 http://localhost:3000/#/page/about 页面后，样式仍然生效：")]),t._v(" "),s("img",{staticClass:"zoomable",attrs:{src:t.$withBase("/images/screenshot/react/5/5/4.gif"),alt:"foo"}}),t._v(" "),s("p",[t._v("过程分析：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("点击路由链接 About 时，路由器会修改路径，但浏览器 "),s("strong",[t._v("不会发送请求。")])])]),t._v(" "),s("li",[s("p",[t._v("刷新页面，虽然地址栏的网址是"),s("code",[t._v("http://localhost:3000/#/page/about")]),t._v("，但是实际上请求的是 "),s("code",[t._v("http://localhost:3000/")]),t._v(" ，也就是访问项目的根目录 "),s("code",[t._v("/public")]),t._v(" ，默认返回 "),s("code",[t._v("index.html")]),t._v(" 文件。")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"title"}),s("p",[s("strong",[t._v("『哈希路由』")]),t._v(" 的特点："),s("strong",[s("font",{attrs:{color:"red"}},[s("code",[t._v("#")]),t._v(" 及其后面的内容不会作为浏览器的请求内容。")])],1)])])]),t._v(" "),s("li",[s("p",[t._v("后续原理同本小节 2.1")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);